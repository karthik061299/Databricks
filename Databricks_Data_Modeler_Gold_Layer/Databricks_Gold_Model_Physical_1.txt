# Databricks Gold Layer Physical Data Model
# Format: table_name|column_name|data_type|description|business_key|constraints

# Product Master Table
dim_product|product_id|STRING|Unique product identifier|PRIMARY_KEY|NOT_NULL
dim_product|product_name|STRING|Product display name|BUSINESS_KEY|NOT_NULL
dim_product|product_category|STRING|Product category classification||
dim_product|product_subcategory|STRING|Product subcategory classification||
dim_product|brand|STRING|Product brand name||
dim_product|unit_of_measure|STRING|Base unit of measurement||
dim_product|unit_cost|DECIMAL(10,2)|Standard unit cost||
dim_product|unit_price|DECIMAL(10,2)|Standard selling price||
dim_product|product_status|STRING|Active/Inactive status||
dim_product|created_date|TIMESTAMP|Record creation timestamp||
dim_product|updated_date|TIMESTAMP|Last update timestamp||

# Warehouse/Location Dimension
dim_location|location_id|STRING|Unique location identifier|PRIMARY_KEY|NOT_NULL
dim_location|warehouse_name|STRING|Warehouse display name|BUSINESS_KEY|NOT_NULL
dim_location|warehouse_code|STRING|Short warehouse code||
dim_location|address|STRING|Physical address||
dim_location|city|STRING|City name||
dim_location|state|STRING|State/Province||
dim_location|country|STRING|Country name||
dim_location|zone|STRING|Storage zone within warehouse||
dim_location|capacity|DECIMAL(12,2)|Total storage capacity||
dim_location|location_type|STRING|Warehouse/Store/Distribution Center||

# Supplier Dimension
dim_supplier|supplier_id|STRING|Unique supplier identifier|PRIMARY_KEY|NOT_NULL
dim_supplier|supplier_name|STRING|Supplier company name|BUSINESS_KEY|NOT_NULL
dim_supplier|supplier_code|STRING|Short supplier code||
dim_supplier|contact_person|STRING|Primary contact name||
dim_supplier|email|STRING|Contact email address||
dim_supplier|phone|STRING|Contact phone number||
dim_supplier|address|STRING|Supplier address||
dim_supplier|payment_terms|STRING|Payment terms||
dim_supplier|lead_time_days|INT|Standard lead time in days||
dim_supplier|supplier_rating|DECIMAL(3,2)|Performance rating||

# Date Dimension
dim_date|date_key|STRING|Date in YYYYMMDD format|PRIMARY_KEY|NOT_NULL
dim_date|full_date|DATE|Actual date value|BUSINESS_KEY|NOT_NULL
dim_date|year|INT|Year number||
dim_date|quarter|INT|Quarter number (1-4)||
dim_date|month|INT|Month number (1-12)||
dim_date|month_name|STRING|Month name||
dim_date|week_of_year|INT|Week number in year||
dim_date|day_of_month|INT|Day of month||
dim_date|day_of_week|INT|Day of week (1-7)||
dim_date|day_name|STRING|Day name||
dim_date|is_weekend|BOOLEAN|Weekend indicator||
dim_date|is_holiday|BOOLEAN|Holiday indicator||

# Inventory Facts Table
fact_inventory|inventory_key|STRING|Surrogate key for inventory record|PRIMARY_KEY|NOT_NULL
fact_inventory|product_id|STRING|Foreign key to dim_product|FOREIGN_KEY|NOT_NULL
fact_inventory|location_id|STRING|Foreign key to dim_location|FOREIGN_KEY|NOT_NULL
fact_inventory|date_key|STRING|Foreign key to dim_date|FOREIGN_KEY|NOT_NULL
fact_inventory|beginning_balance|DECIMAL(12,2)|Starting inventory quantity||
fact_inventory|receipts|DECIMAL(12,2)|Quantity received||
fact_inventory|issues|DECIMAL(12,2)|Quantity issued/sold||
fact_inventory|adjustments|DECIMAL(12,2)|Inventory adjustments||
fact_inventory|ending_balance|DECIMAL(12,2)|Ending inventory quantity||
fact_inventory|unit_cost|DECIMAL(10,2)|Unit cost at transaction||
fact_inventory|total_value|DECIMAL(15,2)|Total inventory value||
fact_inventory|reorder_point|DECIMAL(12,2)|Reorder point quantity||
fact_inventory|safety_stock|DECIMAL(12,2)|Safety stock level||
fact_inventory|max_stock|DECIMAL(12,2)|Maximum stock level||

# Purchase Orders Fact
fact_purchase_orders|po_key|STRING|Surrogate key for purchase order|PRIMARY_KEY|NOT_NULL
fact_purchase_orders|po_number|STRING|Purchase order number|BUSINESS_KEY|NOT_NULL
fact_purchase_orders|product_id|STRING|Foreign key to dim_product|FOREIGN_KEY|NOT_NULL
fact_purchase_orders|supplier_id|STRING|Foreign key to dim_supplier|FOREIGN_KEY|NOT_NULL
fact_purchase_orders|location_id|STRING|Foreign key to dim_location|FOREIGN_KEY|NOT_NULL
fact_purchase_orders|order_date_key|STRING|Foreign key to dim_date for order date|FOREIGN_KEY|NOT_NULL
fact_purchase_orders|expected_date_key|STRING|Foreign key to dim_date for expected delivery||
fact_purchase_orders|received_date_key|STRING|Foreign key to dim_date for actual delivery||
fact_purchase_orders|ordered_quantity|DECIMAL(12,2)|Quantity ordered||
fact_purchase_orders|received_quantity|DECIMAL(12,2)|Quantity actually received||
fact_purchase_orders|unit_price|DECIMAL(10,2)|Unit price on PO||
fact_purchase_orders|total_amount|DECIMAL(15,2)|Total order amount||
fact_purchase_orders|po_status|STRING|Order status||

# Sales/Issues Fact
fact_sales|sales_key|STRING|Surrogate key for sales transaction|PRIMARY_KEY|NOT_NULL
fact_sales|transaction_id|STRING|Unique transaction identifier|BUSINESS_KEY|NOT_NULL
fact_sales|product_id|STRING|Foreign key to dim_product|FOREIGN_KEY|NOT_NULL
fact_sales|location_id|STRING|Foreign key to dim_location|FOREIGN_KEY|NOT_NULL
fact_sales|date_key|STRING|Foreign key to dim_date|FOREIGN_KEY|NOT_NULL
fact_sales|quantity_sold|DECIMAL(12,2)|Quantity sold/issued||
fact_sales|unit_price|DECIMAL(10,2)|Unit selling price||
fact_sales|unit_cost|DECIMAL(10,2)|Unit cost at time of sale||
fact_sales|total_revenue|DECIMAL(15,2)|Total revenue amount||
fact_sales|total_cost|DECIMAL(15,2)|Total cost amount||
fact_sales|gross_profit|DECIMAL(15,2)|Gross profit amount||
fact_sales|customer_id|STRING|Customer identifier||
fact_sales|sales_channel|STRING|Sales channel type||

# Inventory Movements Fact
fact_inventory_movements|movement_key|STRING|Surrogate key for movement|PRIMARY_KEY|NOT_NULL
fact_inventory_movements|transaction_id|STRING|Transaction identifier|BUSINESS_KEY|NOT_NULL
fact_inventory_movements|product_id|STRING|Foreign key to dim_product|FOREIGN_KEY|NOT_NULL
fact_inventory_movements|location_id|STRING|Foreign key to dim_location|FOREIGN_KEY|NOT_NULL
fact_inventory_movements|date_key|STRING|Foreign key to dim_date|FOREIGN_KEY|NOT_NULL
fact_inventory_movements|movement_type|STRING|Type of movement (IN/OUT/TRANSFER)||
fact_inventory_movements|quantity|DECIMAL(12,2)|Movement quantity||
fact_inventory_movements|unit_cost|DECIMAL(10,2)|Unit cost at movement||
fact_inventory_movements|total_value|DECIMAL(15,2)|Total movement value||
fact_inventory_movements|reference_number|STRING|Reference document number||
fact_inventory_movements|reason_code|STRING|Reason for movement||
fact_inventory_movements|from_location|STRING|Source location for transfers||
fact_inventory_movements|to_location|STRING|Destination location for transfers||
